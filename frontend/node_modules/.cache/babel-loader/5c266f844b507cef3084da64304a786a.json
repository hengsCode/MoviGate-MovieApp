{"ast":null,"code":"import _slicedToArray from\"A:/GITHUB/Projects/movie-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState}from\"react\";import{useSelector}from\"react-redux\";import{ArrowLeft,ArrowRight}from\"@material-ui/icons\";import\"./styles.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var GenreCarousel=function GenreCarousel(props){var label=props.label,list=props.list,handleClick=props.handleClick;var _useSelector=useSelector(function(state){return state.drawer;}),expand=_useSelector.expand;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),scrollLock=_useState2[0],setScrollLock=_useState2[1];var handleScrollLeft=function handleScrollLeft(){if(scrollLock){setScrollLock(false);var carousel=document.querySelector(\"#\".concat(label,\"-carousel\"));var carouselItem=document.querySelector(\".genre-carousel-item\");carousel.scrollLeft-=carouselItem.clientWidth;var id=setTimeout(function(){setScrollLock(true);},500);return function(){clearTimeout(id);};}};var handleScrollRight=function handleScrollRight(){if(scrollLock){setScrollLock(false);var carousel=document.querySelector(\"#\".concat(label,\"-carousel\"));var carouselItem=document.querySelector(\".genre-carousel-item\");carousel.scrollLeft+=carouselItem.clientWidth;var id=setTimeout(function(){setScrollLock(true);},500);return function(){clearTimeout(id);};}};var scaleColour=function scaleColour(value){var r,g,b=0;if(value<50){r=255;g=Math.round(5.1*value);}else{g=255;r=Math.round(510-5.1*value);}var h=r*0x10000+g*0x100+b*0x1;return\"#\"+(\"000000\"+h.toString(16)).slice(-6);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"genre-header\",children:label}),/*#__PURE__*/_jsxs(\"div\",{className:\"genre-carousel-container\",style:{width:expand?\"calc(100vw - (100vw - 510px)/4)\":\"calc(100vw - 200px)\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"genre-carousel-scroll\",onClick:handleScrollLeft,children:/*#__PURE__*/_jsx(ArrowLeft,{class:\"arrow-scroll-icon\",fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"genre-carousel-scroll\",onClick:handleScrollRight,style:{right:0},fontSize:\"large\",children:/*#__PURE__*/_jsx(ArrowRight,{class:\"arrow-scroll-icon\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"\".concat(label,\"-carousel\"),className:\"genre-carousel\",children:list.map(function(movie,_){return/*#__PURE__*/_jsxs(\"div\",{className:\"genre-carousel-item\",onClick:function onClick(){handleClick(movie);},children:[/*#__PURE__*/_jsx(\"img\",{src:movie.backdrop_path,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"genre-carousel-item-description\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"genre-carousel-item-description-header\",children:[movie.title,/*#__PURE__*/_jsxs(\"div\",{className:\"genre-carousel-item-rating\",style:{color:scaleColour(10*movie.vote_average)},children:[movie.vote_average,\"/10\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"genre-carousel-item-genres\",children:movie.genre_list.map(function(genre,index){if(index==movie.genre_list.length-1){return/*#__PURE__*/_jsx(_Fragment,{children:genre});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[genre,\", \"]});}})})]})})]},movie.id);})})]})]});};export default GenreCarousel;","map":{"version":3,"sources":["A:/GITHUB/Projects/movie-app/frontend/src/components/HomePage/HomeOverview/GenreCarousel/index.js"],"names":["React","useState","useSelector","ArrowLeft","ArrowRight","GenreCarousel","props","label","list","handleClick","state","drawer","expand","scrollLock","setScrollLock","handleScrollLeft","carousel","document","querySelector","carouselItem","scrollLeft","clientWidth","id","setTimeout","clearTimeout","handleScrollRight","scaleColour","value","r","g","b","Math","round","h","toString","slice","width","right","map","movie","_","backdrop_path","title","color","vote_average","genre_list","genre","index","length"],"mappings":"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","sourcesContent":["import { React, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ArrowLeft, ArrowRight } from \"@material-ui/icons\";\r\nimport \"./styles.css\";\r\n\r\nconst GenreCarousel = (props) => {\r\n  const { label, list, handleClick } = props;\r\n  const { expand } = useSelector((state) => state.drawer);\r\n  const [scrollLock, setScrollLock] = useState(true);\r\n\r\n  const handleScrollLeft = () => {\r\n    if (scrollLock) {\r\n      setScrollLock(false);\r\n      let carousel = document.querySelector(`#${label}-carousel`);\r\n      let carouselItem = document.querySelector(\".genre-carousel-item\");\r\n      carousel.scrollLeft -= carouselItem.clientWidth;\r\n      let id = setTimeout(() => {\r\n        setScrollLock(true);\r\n      }, 500);\r\n      return () => {\r\n        clearTimeout(id);\r\n      };\r\n    }\r\n  };\r\n  const handleScrollRight = () => {\r\n    if (scrollLock) {\r\n      setScrollLock(false);\r\n      let carousel = document.querySelector(`#${label}-carousel`);\r\n      let carouselItem = document.querySelector(\".genre-carousel-item\");\r\n      carousel.scrollLeft += carouselItem.clientWidth;\r\n      let id = setTimeout(() => {\r\n        setScrollLock(true);\r\n      }, 500);\r\n      return () => {\r\n        clearTimeout(id);\r\n      };\r\n    }\r\n  };\r\n\r\n  const scaleColour = (value) => {\r\n    var r,\r\n      g,\r\n      b = 0;\r\n    if (value < 50) {\r\n      r = 255;\r\n      g = Math.round(5.1 * value);\r\n    } else {\r\n      g = 255;\r\n      r = Math.round(510 - 5.1 * value);\r\n    }\r\n    var h = r * 0x10000 + g * 0x100 + b * 0x1;\r\n    return \"#\" + (\"000000\" + h.toString(16)).slice(-6);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"genre-header\">{label}</div>\r\n      <div\r\n        className=\"genre-carousel-container\"\r\n        style={{\r\n          width: expand\r\n            ? \"calc(100vw - (100vw - 510px)/4)\"\r\n            : \"calc(100vw - 200px)\",\r\n        }}\r\n      >\r\n        <div className=\"genre-carousel-scroll\" onClick={handleScrollLeft}>\r\n          <ArrowLeft class=\"arrow-scroll-icon\" fontSize=\"large\" />\r\n        </div>\r\n        <div\r\n          className=\"genre-carousel-scroll\"\r\n          onClick={handleScrollRight}\r\n          style={{ right: 0 }}\r\n          fontSize=\"large\"\r\n        >\r\n          <ArrowRight class=\"arrow-scroll-icon\" />\r\n        </div>\r\n\r\n        <div id={`${label}-carousel`} className=\"genre-carousel\">\r\n          {list.map((movie, _) => {\r\n            return (\r\n              <div\r\n                className=\"genre-carousel-item\"\r\n                key={movie.id}\r\n                onClick={() => {\r\n                  handleClick(movie);\r\n                }}\r\n              >\r\n                <img src={movie.backdrop_path} alt=\"\" />\r\n                <div className=\"genre-carousel-item-description\">\r\n                  <div>\r\n                    <div className=\"genre-carousel-item-description-header\">\r\n                      {movie.title}\r\n                      <div\r\n                        className=\"genre-carousel-item-rating\"\r\n                        style={{ color: scaleColour(10 * movie.vote_average) }}\r\n                      >\r\n                        {movie.vote_average}/10\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"genre-carousel-item-genres\">\r\n                      {movie.genre_list.map((genre, index) => {\r\n                        if (index == movie.genre_list.length - 1) {\r\n                          return <>{genre}</>;\r\n                        } else {\r\n                          return <>{genre}, </>;\r\n                        }\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GenreCarousel;\r\n"]},"metadata":{},"sourceType":"module"}